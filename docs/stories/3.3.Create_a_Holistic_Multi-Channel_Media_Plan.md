# Story 3.3: Create a Holistic, Multi-Channel Media Plan

## Status: Approved

## Story
**As a Conscious Creator,** I want the AI to create a content plan that suggests specific pieces for social media, email, and WhatsApp, **so that** I have a clear, holistic strategy for promoting my "Offerings" across all my key channels.

## Acceptance Criteria
1.  A new "Media Plan" page is created and is a protected route.
2.  A "Generate Plan" button triggers the AI to analyze all "Offerings" marked as "active".
3.  The AI generates a list of suggested content pieces for the upcoming week, explicitly tailored for different channels.
4.  The plan is displayed in a clear, organized list, grouped by channel (e.g., "Social Media," "Email," "WhatsApp").
5.  Example plan items are provided.
6.  Each item in the plan can be clicked to initiate the content generation flow (Module 5).

## Tasks / Subtasks
- [ ] **Task 1: Create "Media Plan" Page (AC: 1)**
    - [ ] Create a new page component at `apps/web/src/pages/media-plan/index.tsx`.
    - [ ] Ensure the page is a protected route.
- [ ] **Task 2: Develop Backend AI Service for Media Plan (AC: 2, 3)**
    - [ ] Create a new GraphQL mutation (e.g., `generateMediaPlan`).
    - [ ] The resolver will fetch all "active" Offerings for the user.
    - [ ] It will construct a prompt asking the AI to act as a marketing strategist and generate a week's worth of content ideas for Social Media, Email, and WhatsApp, based on the offerings.
    - [ ] The prompt must request a structured JSON response (e.g., an array of idea objects with `channel` and `prompt` fields).
- [ ] **Task 3: Display the Media Plan (AC: 4, 5)**
    - [ ] On the frontend, call the `generateMediaPlan` mutation.
    - [ ] Display a loading state.
    - [ ] On success, parse the JSON response and display the content ideas grouped by channel.
- [ ] **Task 4: Link Plan to Content Generation (AC: 6)**
    - [ ] Make each content idea in the plan a clickable button.
    - [ ] Clicking the button should trigger the content generation flow from Story 2.3, passing the specific prompt from the plan item to the AI.

## Dev Notes
### AI Integration
*   The quality of the media plan depends heavily on the prompt. It should instruct the AI to think holistically and create a varied and engaging content mix.
*   Requesting a structured JSON response is crucial for easy rendering on the frontend.
    *Source: `docs/architecture/high-level-architecture.md`*
